{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/users/users.module.css","components/users/users.js","components/users/usersContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Users","props","pagesCount","Math","ceil","totalUserCount","pageUserCount","pages","useState","activePage","setActivePage","filterPageSize","leftPages","rightPages","className","styles","paginator","onClick","filter","p","map","e","onPageChanged","users","u","to","id","alt","src","photos","small","userPhoto","followed","disabled","followinginProgress","some","unfollow","follow","name","status","UsersContainers","pageNumber","getUsers","this","isFetching","React","Component","compose","connect","state","login","setCurrentPage"],"mappings":"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","file":"static/js/3.57c959fd.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2Bfxq\",\"activePage\":\"users_activePage__2H4xp\",\"paginator\":\"users_paginator__1HxIc\",\"selectedPage\":\"users_selectedPage__2HCbg\"};","import React, { useState } from 'react';\nimport styles from './users.module.css'\nimport { NavLink } from 'react-router-dom';\n\n\nlet Users = (props) => {\n    let pagesCount = Math.ceil(props.totalUserCount / props.pageUserCount)\n    const pageFilter = 10\n    let pages = []\n    for (let i = 1; i<=pagesCount; i++) {\n        pages.push(i)\n    }\n\n    let [activePage, setActivePage] = useState(1)\n    let filterPageSize = Math.ceil(pagesCount/pageFilter)\n    let leftPages = (activePage - 1) * pageFilter + 1\n    let rightPages = activePage * pageFilter\n    return (\n        <div className={styles.paginator}>\n            {activePage > 1 && <button onClick={()=> {setActivePage(activePage-1)}}>Left</button>} \n            <div className={styles}>\n                {pages.filter(p => p>=leftPages && p <= rightPages).map(p => {\n                    return <span className={props.activePage === p && styles.activePage} onClick={(e) => {props.onPageChanged(p)}}>{p}</span>})\n}\n            </div>\n            {filterPageSize > activePage && <button onClick={()=> {setActivePage(activePage+1)}}>Right</button>}\n        {\n        props.users.users.map(u => <div key={u.id}>\n            <span >\n                <div>\n                    <NavLink to={'/profile/' + u.id}>\n                        <img alt= 'test' src={u.photos.small != null ? u.photos.small : 'https://www.kinonews.ru/insimgs/2019/newsimg/newsimg87089.jpg'} className={styles.userPhoto}/>\n                    </NavLink>\n                </div>\n                <div>\n                    {u.followed ?  \n                    <button disabled={props.followinginProgress.some(id => id === u.id)} onClick={() => {props.unfollow(u.id)}}>Unfollow</button>\n                    : \n                    <button disabled={props.followinginProgress.some(id => id === u.id)} onClick={() => {props.follow(u.id)}}>Follow</button>}\n                </div>\n                <span>\n                    <span>\n                        <div>{u.name}</div>\n                        <div>{u.status}</div>\n                    </span>\n                    {/* <span>\n                        <div>{u.location.country}</div>\n                        <div>{u.location.city}</div>\n                    </span> */}\n                </span>\n            </span>\n        </div>)}\n\n    </div>\n    )\n}\n\nexport default Users;","import React from 'react';\nimport Users from './users'\nimport { connect } from 'react-redux';\nimport {follow,unfollow,setCurrentPage,getUsers} from '../redux/usersReducer';\nimport Spinner from '../common/spinner/spinner';\nimport { compose } from 'redux';\nimport { withAuthRedirect } from '../hoc/AuthRedirect';\n\nclass UsersContainers extends React.Component {\n    componentDidMount() {\n        this.props.getUsers(this.props.users.activePage, this.props.users.pageUserCount)\n    }\n    onPageChanged = (pageNumber) => {\n        this.props.getUsers(pageNumber,this.props.users.pageUserCount)\n    }\n    render() {\n            return <> \n            {this.props.users.isFetching ? <Spinner /> : null}\n            <Users \n            totalUserCount={this.props.users.totalUserCount}\n            pageUserCount={this.props.users.pageUserCount }\n            onPageChanged={this.onPageChanged}\n            activePage={this.props.users.activePage}\n            users={this.props.users}\n            follow={this.props.follow}\n            unfollow={this.props.unfollow}\n            followinginProgress={this.props.users.followinginProgress}\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: state.users,\n        totalUserCount: state.totalUserCount,\n        pageUserCount: state.pageUserCount,\n        activePage: state.activePage,\n        isFetching: state.isFetching,\n        followinginProgress: state.followinginProgress,\n        login: state.login,\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n        follow,unfollow,setCurrentPage,getUsers}),\n        // withAuthRedirect,\n)(UsersContainers)"],"sourceRoot":""}